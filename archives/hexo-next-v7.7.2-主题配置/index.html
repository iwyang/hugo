<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="2020.8.1 Hexo 5.0后要将主题配置文件复制到站点根目录，然后重命名为 _config.next.yml 获取 NexT 下载最新 release 版本 通常情况下请选择 stable 版本。推荐不熟悉的用户按此方式进行。 这种方"><title>Hexo-NexT (v7.7.2) 主题配置</title>
<link rel=canonical href=/archives/hexo-next-v7.7.2-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Hexo-NexT (v7.7.2) 主题配置"><meta property='og:description' content="2020.8.1 Hexo 5.0后要将主题配置文件复制到站点根目录，然后重命名为 _config.next.yml 获取 NexT 下载最新 release 版本 通常情况下请选择 stable 版本。推荐不熟悉的用户按此方式进行。 这种方"><meta property='og:url' content='/archives/hexo-next-v7.7.2-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/'><meta property='og:site_name' content="Bore's Notes"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='hexo'><meta property='article:published_time' content='2020-04-26T12:03:16+00:00'><meta property='article:modified_time' content='2024-08-07T17:56:55+08:00'><meta name=twitter:title content="Hexo-NexT (v7.7.2) 主题配置"><meta name=twitter:description content="2020.8.1 Hexo 5.0后要将主题配置文件复制到站点根目录，然后重命名为 _config.next.yml 获取 NexT 下载最新 release 版本 通常情况下请选择 stable 版本。推荐不熟悉的用户按此方式进行。 这种方"><link rel="shortcut icon" href=/img/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu9759930031270941277.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Bore's Notes</a></h1><h2 class=site-description>博观而约取，厚积而薄发</h2></div></header><ol class=menu-social><li><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/say/><svg class="icon icon-tabler icon-tabler-message-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 20l1.3-3.9A9 8 0 117.7 19L3 20"/><line x1="12" y1="12" x2="12" y2="12.01"/><line x1="8" y1="12" x2="8" y2="12.01"/><line x1="16" y1="12" x2="16" y2="12.01"/></svg>
<span>说说</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>友链</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#获取-next>获取 NexT</a><ol><li><a href=#下载最新-release-版本httpsgithubcomtheme-nexthexo-theme-nextreleaseslatest>下载<a href=https://github.com/theme-next/hexo-theme-next/releases/latest>最新 release 版本</a></a></li></ol></li><li><a href=#站点配置>站点配置</a><ol><li><a href=#设置-hexo-的-next-主题>设置 hexo 的 next 主题</a></li><li><a href=#配置-hexo-网站相关信息>配置 hexo 网站相关信息</a></li><li><a href=#设置-hexo-永久链接>设置 hexo 永久链接</a></li><li><a href=#nofollow-标签的使用>nofollow 标签的使用</a></li><li><a href=#站点地图-sitemap-生成>站点地图 sitemap 生成</a></li><li><a href=#修改网站的图标-favicon>修改网站的图标 Favicon</a></li></ol></li><li><a href=#主题配置>主题配置</a><ol><li><a href=#准备工作配置文件分离>准备工作，配置文件分离</a></li><li><a href=#指定next-gemini模板>指定next-Gemini模板</a></li><li><a href=#配置-hexo-中的-abouttagcategoriessitemap-菜单>配置 hexo 中的 about、tag、categories、sitemap 菜单</a></li><li><a href=#手动生成-hexo-菜单对应文件>手动生成 hexo 菜单对应文件</a><ol><li><a href=#新建-about-页面>新建 about 页面</a></li><li><a href=#新建一个-tags-页面>新建一个 tags 页面</a></li><li><a href=#新建一个-categories-页面>新建一个 categories 页面</a></li><li><a href=#新建一个-404-页面>新建一个 404 页面</a></li></ol></li><li><a href=#配置-hexo-本地搜索>配置 hexo 本地搜索</a><ol><li><a href=#本地搜索的原理>本地搜索的原理</a></li><li><a href=#设置过程>设置过程</a></li></ol></li><li><a href=#utterances评论系统valine-评论>utterances评论系统&&amp;valine 评论</a><ol><li><a href=#utterances评论系统>utterances评论系统</a></li><li><a href=#valine评论>valine评论</a></li></ol></li><li><a href=#设置-hexo-中的-rss-订阅>设置 hexo 中的 rss 订阅</a></li><li><a href=#配置-hexo-主题nextyml的-footer-信息>配置 hexo 主题next.yml的 footer 信息</a></li><li><a href=#头像信息设置-nextyml>头像信息设置 next.yml</a></li><li><a href=#社交信息和友链配置>社交信息和友链配置</a></li><li><a href=#首页文章不展示全文显示摘要>首页文章不展示全文显示摘要</a></li><li><a href=#首页文章属性nextyml>首页文章属性next.yml</a></li><li><a href=#页面阅读统计-不蒜子统计>页面阅读统计 不蒜子统计</a></li><li><a href=#字数统计阅读时长>字数统计、阅读时长</a></li><li><a href=#内容页里的代码块新增复制按钮>内容页里的代码块新增复制按钮</a></li><li><a href=#mac风格代码块样式>Mac风格代码块样式</a></li><li><a href=#配置微信支付宝打赏>配置微信，支付宝打赏</a></li><li><a href=#相关文章推荐>相关文章推荐</a></li><li><a href=#文章原创申明>文章原创申明</a></li><li><a href=#修改文章底部标签的样式>修改文章底部标签的样式</a></li><li><a href=#显示当前浏览进度nextyml>显示当前浏览进度next.yml</a></li><li><a href=#修改-back2top-标签>修改 back2top 标签</a></li><li><a href=#菜单栏显示分类--标签中的文章数目>菜单栏显示分类 / 标签中的文章数目</a></li></ol></li><li><a href=#进阶配置>进阶配置</a><ol><li><a href=#修改文章默认模板>修改文章默认模板</a></li><li><a href=#新增文章时自动打开markdown编辑器>新增文章时自动打开Markdown编辑器</a></li><li><a href=#pjax插件>Pjax插件</a></li><li><a href=#加载进度条>加载进度条</a></li><li><a href=#阅读进度条>阅读进度条</a></li><li><a href=#背景图片>背景图片</a></li><li><a href=#首页文章阴影边框>首页文章阴影边框</a><ol><li><a href=#scheme选择gemini>scheme选择Gemini</a></li><li><a href=#在stylesstyl里添加代码>在<code>styles.styl</code>里添加代码</a></li></ol></li><li><a href=#自定义单行代码颜色>自定义单行代码颜色</a></li><li><a href=#代码块高亮diff写法>代码块高亮<code>diff</code>写法</a></li><li><a href=#菜单中文翻译>菜单中文翻译</a></li><li><a href=#文章末尾添加本文结束分割线>文章末尾添加本文结束分割线</a></li><li><a href=#圆角设置中文字体设置>圆角设置、中文字体设置</a><ol><li><a href=#圆角设置>圆角设置</a></li><li><a href=#中文字体设置>中文字体设置</a></li></ol></li><li><a href=#鼠标点击特效打字特效友链等>鼠标点击特效、打字特效、友链等</a><ol><li><a href=#打字特效鼠标点击特效>打字特效、鼠标点击特效</a></li><li><a href=#友链添加>友链添加</a></li><li><a href=#代码块折叠>代码块折叠</a></li></ol></li><li><a href=#近期文章粒子时钟特效>近期文章、粒子时钟特效</a><ol><li><a href=#近期文章>近期文章</a></li><li><a href=#粒子时钟特效>粒子时钟特效</a></li></ol></li><li><a href=#置顶文章标志>置顶文章标志</a></li><li><a href=#静态资源压缩插件>静态资源压缩插件</a></li><li><a href=#首页改归档页>首页改归档页</a></li><li><a href=#修改首页归档页显示文章数量>修改首页、归档页显示文章数量</a></li><li><a href=#关闭文章目录自动数字编号>关闭文章目录自动数字编号</a></li><li><a href=#自动部署脚本>自动部署脚本</a></li><li><a href=#stylesstyl自定义样式><code>styles.styl</code>自定义样式</a></li><li><a href=#二级菜单目录>二级菜单目录</a></li><li><a href=#开启gitter>开启<code>gitter</code></a></li></ol></li><li><a href=#v80-更新内容>V8.0 更新内容</a><ol><li><a href=#重要更新>重要更新</a></li><li><a href=#配置>配置</a><ol><li><a href=#代码高亮>代码高亮</a></li><li><a href=#更换模板>更换模板</a></li></ol></li></ol></li><li><a href=#参考链接>参考链接</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E6%8A%80%E6%9C%AF/>技术</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/archives/hexo-next-v7.7.2-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/>Hexo-NexT (v7.7.2) 主题配置</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2020-04-26</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 22 分钟</time></div></footer></div></header><section class=article-content><div class="note info"><p>2020.8.1 Hexo 5.0后要将主题配置文件复制到站点根目录，然后重命名为 _config.next.yml</p></div><h2 id=获取-next>获取 NexT</h2><h3 id=下载最新-release-版本httpsgithubcomtheme-nexthexo-theme-nextreleaseslatest>下载<a class=link href=https://github.com/theme-next/hexo-theme-next/releases/latest target=_blank rel=noopener>最新 release 版本</a></h3><p>通常情况下请选择 stable 版本。推荐不熟悉的用户按此方式进行。</p><p>这种方式将仅提供最新的 release 版本（其中不附带 <code>.git</code> 目录）。因此，你无法通过 git 更新这一方式安装的主题。</p><blockquote><p><strong>更新：推荐使用独立的配置文件（数据文件）而不在主题源代码进行更改，便于后续的更新（下载最新版本，替换掉旧版本）</strong>。</p><h2 id=站点配置>站点配置</h2></blockquote><h3 id=设置-hexo-的-next-主题>设置 hexo 的 next 主题</h3><p>我们在站点的配置文件<code>_config.yml</code>中找到 theme 后修改：
<code>theme: next # 配置成刚下载的next主题</code></p><h3 id=配置-hexo-网站相关信息>配置 hexo 网站相关信息</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Site</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w>          </span><span class=c># 网站标题</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>subtitle</span><span class=p>:</span><span class=w>       </span><span class=c># 网站副标题</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>description</span><span class=p>:</span><span class=w>    </span><span class=c># 描述，介绍网站的</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>keywords</span><span class=p>:</span><span class=w>       </span><span class=c># 网站的关键字</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>author</span><span class=p>:</span><span class=w>         </span><span class=c># 博主姓名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>language</span><span class=p>:</span><span class=w> </span><span class=l>zh-CN</span><span class=w> </span><span class=c># 语言：zh-CN 是简体中文</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>timezone</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>    </span><span class=c>#时区，默认不填就好，如果要填，填Asia/Shanghai</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=设置-hexo-永久链接>设置 hexo 永久链接</h3><p>本着简单原则，在站点配置文<code>_config.yml</code>件里将固定链接改成：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>https://bore.vip</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>root</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>permalink</span><span class=p>:</span><span class=w> </span><span class=l>archives/:title/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=nofollow-标签的使用>nofollow 标签的使用</h3><p>减少出站链接能够有效防止权重分散，hexo 有很方便的自动为出站链接添加 <code>nofollow</code> 标签的插件。
首先安装 <code>hexo-filter-nofollow</code> 插件：
<code>npm install hexo-filter-nofollow --save</code>
然后我们在站点的配置文件<code>_config.yml</code> 中添加配置，将 <code>nofollow</code> 设置为 <code>true</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 外部链接优化</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>nofollow</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>field</span><span class=p>:</span><span class=w> </span><span class=l>site</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>exclude</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;exclude1.com&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;exclude2.com&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>其中 <code>exclude</code>（例外的链接，比如友链）将不会被加上 <code>nofollow</code> 属性。</p><h3 id=站点地图-sitemap-生成>站点地图 sitemap 生成</h3><p><code>npm install hexo-generator-sitemap --save</code>
然后我们需要在 Hexo 站点配置文件中加入 sitemap 插件：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 通用站点地图</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>sitemap</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>sitemap.xml</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=修改网站的图标-favicon>修改网站的图标 Favicon</h3><p>把图标放在 /themes/next/source/images 里，并且修改 主题配置文件（next.yml）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>favicon</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>small</span><span class=p>:</span><span class=w> </span><span class=l>/images/favicon-16x16-next.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>medium</span><span class=p>:</span><span class=w> </span><span class=l>/images/favicon-32x32-next.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>apple_touch_icon</span><span class=p>:</span><span class=w> </span><span class=l>/images/favicon-32x32-next.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>safari_pinned_tab</span><span class=p>:</span><span class=w> </span><span class=l>/images/favicon-32x32-next.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#android_manifest: /images/manifest.json</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#ms_browserconfig: /images/browserconfig.xml</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=主题配置>主题配置</h2><h3 id=准备工作配置文件分离>准备工作，配置文件分离</h3><p>Next主题在7.3之后分离了配置文件与主题，详情请见<a class=link href=https://tding.top/archives/2bd6d82.html target=_blank rel=noopener>小丁的个人博客</a></p><ul><li>新建文件夹<code>hexo/source/_data</code></li><li>将<code>./themes/next/_config.yml</code>复制到<code>hexo/source/_data</code>路径下并重命名为<code>next.yml</code></li><li>将<code>next.yml</code>中的<code>override</code>设置为<code>true</code>即可作为主题的配置文件使用</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>override: true
</span></span></code></pre></td></tr></table></div></div><ul><li>在<code>hexo/source/_data</code>中新建<code>body-end.swig</code>和<code>styles.styl</code>文件</li><li>然后在<code>next.yml</code>的<code>custom_file_path</code>中删除前面的<code>#</code>来启用<code>bodyEnd</code>和<code>style</code></li><li><code>custom_file_path</code>中的其他选项根据需要创建相关文件并启用</li></ul><h3 id=指定next-gemini模板>指定next-Gemini模板</h3><p>主题配置文件（next.yml），关键字：<code>Schemes</code>,修改</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c>#scheme: Muse</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#scheme: Mist</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#scheme: Pisces  #打开前面的注释</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>scheme</span><span class=p>:</span><span class=w> </span><span class=l>Gemini</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>Muse</strong> - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li><li><strong>Mist</strong> - Muse 的紧凑版本，整洁有序的单栏外观</li><li><strong>Pisces</strong> - 双栏 Scheme，小家碧玉似的清新</li><li><strong>Gemini</strong> - 左侧网站信息及目录，块+片段结构布局</li></ul><h3 id=配置-hexo-中的-abouttagcategoriessitemap-菜单>配置 hexo 中的 about、tag、categories、sitemap 菜单</h3><p>默认的主题配置文件<code>_config.yml</code>（next.yml） 中，菜单只开启了首页和归档，我们根据需要，可以添加 about、tag、categories、sitemap 等菜单，所以把它们也取消注释。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 菜单设置为 菜单名: /菜单目录 || 菜单图标名字</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>menu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>home</span><span class=p>:</span><span class=w> </span><span class=l>/ || home</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>about</span><span class=p>:</span><span class=w> </span><span class=l>/about/ || user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=l>/tags/ || tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=l>/categories/ || th</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>archives</span><span class=p>:</span><span class=w> </span><span class=l>/archives/ || archive</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#schedule: /schedule/ || calendar</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sitemap</span><span class=p>:</span><span class=w> </span><span class=l>/sitemap.xml || sitemap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>commonweal</span><span class=p>:</span><span class=w> </span><span class=l>/404/ || heartbeat</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>menu_settings</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>icons</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 显示图标</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>badges</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># 显示统计信息</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>注：hexo 所有图标均来自 fontawesome，其中 <code>||</code> 后面是你想要设置的图标的名字。
菜单项的中文文本翻译见<a class=link href=http://bore.vip/archives/39662a01.html#%E8%8F%9C%E5%8D%95%E4%B8%AD%E6%96%87%E7%BF%BB%E8%AF%91 target=_blank rel=noopener>菜单中文翻译</a></p><h3 id=手动生成-hexo-菜单对应文件>手动生成 hexo 菜单对应文件</h3><h4 id=新建-about-页面>新建 about 页面</h4><p>我们可以在博客根目录下输入以下命令新建页面：
<code>hexo new page about</code>
然后你会发现多了一个 hexo/source/about 文件夹，里面有一个 index.md 文件，你可以根据自己的需要在这个 Markdown 文件中写一些内容（同文章一样，用 Markdown 语法）。</p><h4 id=新建一个-tags-页面>新建一个 tags 页面</h4><p>同样的，我们可以新建 <code>tags</code> 页面：
<code>hexo new page tags</code>
在 <code>tags</code> 页面文件 <code>hexo/source/tags/index.md</code> 的头部修改为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>标签</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-04-26 00:13:30</span><span class=w>   </span><span class=c># 时间随意</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;tags&#34;</span><span class=w>                </span><span class=c># 类型一定要为tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>comments</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>             </span><span class=c># 提示这个页面不需要加载评论</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=新建一个-categories-页面>新建一个 categories 页面</h4><p>同样的，我们可以新建 categories 页面：
<code>hexo new page categories</code>
在 categories 页面文件 hexo/source/categories/index.md 的头部修改为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>文章分类</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-04-26 00:15:00</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;categories&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>comments</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=新建一个-404-页面>新建一个 404 页面</h4><p>这里我们将 404 替换成腾讯的公益页面。
首先我们在 <code>hexo/source</code> 目录下创建自己的 <code>404.html</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>404<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&#34;</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span> <span class=na>homePageUrl</span><span class=o>=</span><span class=s>&#34;/&#34;</span> <span class=na>homePageName</span><span class=o>=</span><span class=s>&#34;返回&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>注意：Hexo 博客的基本内容是一些 Markdown 文件，放在 source/_post 文件夹下，每个文件对应一篇文章。除此之外，放在 source 文件夹下的所有开头不是下划线的文件，在 hexo generate 的时候，都会被拷贝到 public 文件夹下。但是，Hexo 默认会渲染所有的 HTML 和 Markdown 文件。</p><p>因此我们可以简单地在文件开头加上 layout: false 一行来避免渲染：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>layout: false
</span></span><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>404<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&#34;</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span> <span class=na>homePageUrl</span><span class=o>=</span><span class=s>&#34;/&#34;</span> <span class=na>homePageName</span><span class=o>=</span><span class=s>&#34;返回&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>这样我们就完成了 404 页面的创建。注意：本地测试不出来，发布出来就### 配置 hexo 本地搜索可以了。</p><h3 id=配置-hexo-本地搜索>配置 hexo 本地搜索</h3><h4 id=本地搜索的原理>本地搜索的原理</h4><p>对于动态网站来说，可以通过 php 实现。但是，Hexo 博客是静态网站，用不了 php。
NexT 主题已经实现这个功能，它用了 Hexo 的拓展包 hexo-generator-searchdb，预先生成了一个文本库 search.xml，然后传到了网站里面。在本地搜索的时候，NexT 直接用 javascript 调用了这个文件，从而实现了静态网站的本地搜索。</p><h4 id=设置过程>设置过程</h4><p>安装插件:
<code>npm install hexo-generator-searchdb --save</code>
然后我们修改站点配置_config.yml 文件，添加如下内容：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 本地搜索</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>search</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>search.xml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>field</span><span class=p>:</span><span class=w> </span><span class=l>all</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>format</span><span class=p>:</span><span class=w> </span><span class=l>html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>limit</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>path：索引文件的路径，相对于站点根目录
field：搜索范围，默认是 post，还可以选择 page、all，设置成 all 表示搜索所有页面
limit：限制搜索的条目数
然后修改主题配置文件<code>_config.yml</code>（next.yml）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Local Search</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>local_search</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># If auto, trigger search by changing input.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># If manual, trigger search by pressing enter key or search button.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trigger</span><span class=p>:</span><span class=w> </span><span class=l>auto</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Show top n results per article, show all results by setting to -1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>top_n_per_article</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Unescape html strings to the readable one.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>unescape</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Preload the search data when the page loads.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>preload</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=utterances评论系统valine-评论>utterances评论系统&&amp;valine 评论</h3><div class="note danger">如果使用utterances评论系统，一定要先关闭Pjax插件，否则utterances评论无法登陆</div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>pjax</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=utterances评论系统>utterances评论系统</h4><div class="note primary">注意NexT 8.1.0起没有用valine</div><p>具体见：<a class=link href=https://github.com/next-theme/hexo-theme-next/commit/a4a1cdcf2002276783406093a1653b021bdd043e target=_blank rel=noopener>Hide options of Valine</a></p><h5 id=创建-github-仓库>创建 Github 仓库</h5><p>utterance 使用 Github 保存评论，那我们就需要创建一个 <code>repository</code> 专门保存评论。你也可以将评论放在发布网页的仓库，注意要是公共仓库。</p><h5 id=授权>授权</h5><p>用户在博客页面上输入评论，utterance 拿到这个评论后，自动的提交到上面刚创建仓库的 Issues 里。</p><p>所以我们需要授权 utterance 应用能访问仓库的 Issues。</p><p>点击链接： <a class=link href=https://github.com/apps/utterances target=_blank rel=noopener>https://github.com/apps/utterances</a> ，点击选择<code>Only select repositories</code>，选中相应的仓库。</p><h5 id=主题配置-1>主题配置</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>utterances</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class=l>iwyang/comments</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Available values: pathname | url | title | og:title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>issue_term</span><span class=p>:</span><span class=w> </span><span class=l>title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Available values: github-light | github-dark | preferred-color-scheme | github-dark-orange | icy-dark | dark-blue | photon-dark | boxy-light</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>github-light</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>解释一下主要参数：</p><ul><li>repo：存放评论的issues的仓库名</li><li>issue-term：指定issues的标题，<code>title</code>表示使用文章的标题作为issues的标题，推荐使用这个。（pathname：网址域名之外的文件名；url：博客网址，网址全路径；title：博客标题）</li></ul><h5 id=回复评论方法>回复评论方法</h5><p>使用markdown语法引用，或者进issues里评论，或者直接在评论区<code>@用户名</code>然后再加上评论。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>&gt;  这里引用别人的评论</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>这里是你要回复的评论，中间要空一行</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=valine评论>valine评论</h4><h5 id=获取-app-id-和-app-key>获取 APP id 和 APP key</h5><p>注意右上角选择<strong>国际版</strong>。</p><ul><li>你可以点击 LeanCloud ，注册登录，进入控制台后点击创建应用。</li><li>进入刚刚创建的应用，选择设置 》应用Keys，就能看到你的 APP ID 和 APP Key</li></ul><h5 id=修改主题配置文件>修改主题配置文件</h5><p>注意<code>guest_info</code>这一栏，删除link，评论框就没有网址选项。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Valine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># You can get your appid and appkey from https://leancloud.cn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># For more information: https://valine.js.org, https://github.com/xCss/Valine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 配置项详情请查阅官方文档。</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>valine</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 开启评论功能</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>appid</span><span class=p>:</span><span class=w>  </span><span class=c># 填入刚刚获取的APP ID</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>appkey</span><span class=p>:</span><span class=w> </span><span class=c># 填入刚刚获取的APP key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>notify</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># 邮件通知默认关闭</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>verify</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># 验证码默认关闭</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>placeholder</span><span class=p>:</span><span class=w> </span><span class=l>在这里写下你的评论吧！</span><span class=w> </span><span class=c># 评论框默认文字</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>avatar</span><span class=p>:</span><span class=w> </span><span class=l>mm</span><span class=w> </span><span class=c># 头像风格</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>guest_info</span><span class=p>:</span><span class=w> </span><span class=l>nick,mail #,link</span><span class=w> </span><span class=c># Custom comment header</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>pageSize</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w> </span><span class=c># Pagination size</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>language: # Language, available values</span><span class=p>:</span><span class=w> </span><span class=l>en, zh-cn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>visitor</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors&#39; for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>comment_count</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># If false, comment count will only be displayed in post page, not in home page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>recordIP</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># 是否记录IP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>serverURLs</span><span class=p>:</span><span class=w> </span><span class=c># When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c>#post_meta_order: 0</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=valine评论标题改中文中文>valine评论标题改中文中文</h5><p>打开<code>themes -> next -> languages -> zh-CN.yml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 在post标签下添加如下代码
</span></span><span class=line><span class=cl>comments:
</span></span><span class=line><span class=cl>    valine: 评论数 # 这里的中文随便自己定义
</span></span></code></pre></td></tr></table></div></div><h3 id=设置-hexo-中的-rss-订阅>设置 hexo 中的 rss 订阅</h3><p>没有用，不推荐</p><h3 id=配置-hexo-主题nextyml的-footer-信息>配置 hexo 主题next.yml的 footer 信息</h3><p>底部 <code>footer</code> 可以开关显示 hexo 信息、theme 信息、建站时间等个性化配置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>footer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>since</span><span class=p>:</span><span class=w> </span><span class=m>2020</span><span class=w>        </span><span class=c># 建站开始时间</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>icon</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>user      </span><span class=w> </span><span class=c># 设置 建站初始时间和至今时间中间的图标，默认是一个&#39;小人像&#39;，更改user为heart可以变成一个心</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>animated</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;#808080&#34;</span><span class=w> </span><span class=c># 更改图标的颜色，红色为&#39;#ff0000&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>powered</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>     </span><span class=c># 开启hexo驱动</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>    </span><span class=c># 开启hexo版本号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>theme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>     </span><span class=c># 开启主题驱动</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>    </span><span class=c># 开启主题版本号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>custom_text</span><span class=p>:</span><span class=w> </span><span class=l>Hosted by &lt;a target=&#34;_blank&#34; rel=&#34;external nofollow&#34; href=&#34;https://pages.coding.me&#34;&gt;&lt;b&gt;Coding Pages&lt;/b&gt;&lt;/a&gt;</span><span class=w> </span><span class=c># 这里的底部标识是为了添加coding page服务时的版权声明 打开注释就可以看到底部有一个 hosted by coding pages</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=头像信息设置-nextyml>头像信息设置 next.yml</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>avatar</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/images/avatar.jpg </span><span class=w> </span><span class=c># 设置头像资源的位置</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rounded</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>            </span><span class=c># 开启圆形头像</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>opacity</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>               </span><span class=c># 不透明的比例：0就是完全透明</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rotated</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>           </span><span class=c># 不开启旋转</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=社交信息和友链配置>社交信息和友链配置</h3><p>这里和菜单设置格式一样，社交名字: 社交url || 社交图标，图标信息来自 <a class=link href=https://fontawesome.com/v4.7.0/icons target=_blank rel=noopener>fontawesome</a>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>social</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>GitHub</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/yourname || github</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>E-Mail</span><span class=p>:</span><span class=w> </span><span class=l>mailto:yourname@gmail.com || envelope</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Google</span><span class=p>:</span><span class=w> </span><span class=l>https://plus.google.com/yourname || google</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>social_icons</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>      </span><span class=c># 显示社交图标</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>icons_only</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># 只显示图标，不显示文字</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>友链配置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Blog rolls</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>links_icon</span><span class=p>:</span><span class=w> </span><span class=l>link         </span><span class=w> </span><span class=c># 友链的图标 参考上文</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>links_title</span><span class=p>:</span><span class=w> </span><span class=l>Links       </span><span class=w> </span><span class=c># 友链的title  比如你可以更改为 友情链接</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>links_layout</span><span class=p>:</span><span class=w> </span><span class=l>block      </span><span class=w> </span><span class=c># 友链摆放的样式：按块（一行一个）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#links_layout: inline     # 友链摆放的样式：按线摆放（一行很多个），注意，同时只能一种样式</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>links</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Title</span><span class=p>:</span><span class=w> </span><span class=l>http://example.com/ </span><span class=w> </span><span class=c># 友链的地址</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>官方提供的友链放在侧边栏下面，视觉上比较臃肿。这里我新建了一个友链页面：友情链接，设置教程见：Hexo-NexT 新增友链。</p><h3 id=首页文章不展示全文显示摘要>首页文章不展示全文显示摘要</h3><blockquote><p>官方公告：<code>auto_excerpt</code> 可以自动截断文章内容作为摘要。此功能不是一个 Hexo 主题应当负责的，这为主题的维护者带来了太大压力。自 7.6.0 版本开始，此功能被移除，请自行安装第三方插件，或阅读 Hexo 有关文档。当然，我们仍然建议通过 `` 来精确控制 Read More 的位置。</p></blockquote><p><strong>因此，这个功能在新版的 NexT 已经被废弃了，大家可以直接在文章中添加 来精确控制摘要内容</strong>。</p><h3 id=首页文章属性nextyml>首页文章属性next.yml</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>post_meta</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>item_text</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>    </span><span class=c># 设为true 可以一行显示，文章的所有属性</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>created_at</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>    </span><span class=c># 显示创建时间</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>updated_at</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>     </span><span class=c># 显示修改的时间</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>another_day</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 设true时，如果创建时间和修改时间一样则显示一个时间</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>    </span><span class=c># 显示分类信息</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=页面阅读统计-不蒜子统计>页面阅读统计 不蒜子统计</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>busuanzi_count</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>              </span><span class=c># 设true 开启</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>total_visitors</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>       </span><span class=c># 总阅读人数（uv数）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>total_visitors_icon</span><span class=p>:</span><span class=w> </span><span class=l>user </span><span class=w> </span><span class=c># 阅读总人数的图标</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>total_views</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>          </span><span class=c># 总阅读次数（pv数）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>total_views_icon</span><span class=p>:</span><span class=w> </span><span class=l>eye     </span><span class=w> </span><span class=c># 阅读总次数的图标</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>post_views</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>           </span><span class=c># 开启内容阅读次数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>post_views_icon</span><span class=p>:</span><span class=w> </span><span class=l>eye      </span><span class=w> </span><span class=c># 内容页阅读数的图标</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=字数统计阅读时长>字数统计、阅读时长</h3><p>首先安装插件：
<code>npm install hexo-symbols-count-time --save</code>
主题配置文件_config.yml（next.yml） 修改如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>symbols_count_time</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>separated_meta</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># false会显示一行</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>item_text_post</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># 显示属性名称,设为false后只显示图标和统计数字,不显示属性的文字</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>item_text_total</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 底部footer是否显示字数统计属性文字</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>awl</span><span class=p>:</span><span class=w> </span><span class=m>4</span><span class=w>                </span><span class=c># 计算字数的一个设置,没设置过</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>wpm</span><span class=p>:</span><span class=w> </span><span class=m>275</span><span class=w>              </span><span class=c># 一分钟阅读的字数</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>站点配置文件_config.yml 新增如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>symbols_count_time</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c>#文章内是否显示</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>symbols</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>time</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c># 网页底部是否显示</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>total_symbols</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>total_time</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=内容页里的代码块新增复制按钮>内容页里的代码块新增复制按钮</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>codeblock</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>copy_button</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>      </span><span class=c># 增加复制按钮的开关</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>show_result</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 点击复制完后是否显示 复制成功 结果提示</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=mac风格代码块样式>Mac风格代码块样式</h3><p>hexo\source_data\next.yml里修改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>codeblock</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Code Highlight theme</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># See: https://github.com/highlightjs/highlight.js/tree/master/src/styles</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>theme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>light</span><span class=p>:</span><span class=w> </span><span class=l>agate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dark</span><span class=p>:</span><span class=w> </span><span class=l>dark</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># See: https://github.com/PrismJS/prism/tree/master/themes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prism</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>light</span><span class=p>:</span><span class=w> </span><span class=l>prism</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dark</span><span class=p>:</span><span class=w> </span><span class=l>prism-dark</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Add copy button on codeblock</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>copy_button</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Available values: default | flat | mac</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>style</span><span class=p>:</span><span class=w> </span><span class=l>mac</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=配置微信支付宝打赏>配置微信，支付宝打赏</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Reward</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>reward_comment</span><span class=p>:</span><span class=w>                   </span><span class=c># 打赏描述</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>wechatpay</span><span class=p>:</span><span class=w> </span><span class=l>/images/wechatpay.png </span><span class=w> </span><span class=c># 微信支付的二维码图片地址</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>alipay</span><span class=p>:</span><span class=w> </span><span class=l>/images/alipay.png       </span><span class=w> </span><span class=c># 支付宝的地址</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#bitcoin: /images/bitcoin.png     # 比特币地址</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=相关文章推荐>相关文章推荐</h3><p>安装推荐文章的插件：
<code>npm install hexo-related-popular-posts --save</code>
主题配置信息（next.yml）如下:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>related_posts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>相关文章推荐     </span><span class=w> </span><span class=c># 属性的命名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>display_in_home</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># false代表首页不显示</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxCount</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>          </span><span class=c># 最多5条</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#PPMixingRate: 0.0   # 相关度</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#isDate: true        # 是否显示日期</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#isImage: false      # 是否显示配图</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>isExcerpt</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>     </span><span class=c># 是否显示摘要</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=文章原创申明>文章原创申明</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>creative_commons</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>license</span><span class=p>:</span><span class=w> </span><span class=l>by-nc-sa</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sidebar</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>post</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>       </span><span class=c># 默认显示版权信息</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>language</span><span class=p>:</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=修改文章底部标签的样式>修改文章底部标签的样式</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Use icon instead of the symbol # to indicate the tag at the bottom of the post</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 标签代替#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>tag_icon</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=显示当前浏览进度nextyml>显示当前浏览进度next.yml</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>back2top</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># 默认关闭</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Back to top in sidebar.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sidebar</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Scroll percent label in b2t button.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>scrollpercent</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=修改-back2top-标签>修改 back2top 标签</h3><p>地址：<a class=link href=https://github.com/jiangtj-lab/hexo-cake-moon-menu target=_blank rel=noopener>hexo-cake-moon-menu</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm install hexo-cake-moon-menu --save
</span></span></code></pre></td></tr></table></div></div><p>If you are using NexT theme version 7.8 or earlier, install version 2.1.2</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm i hexo-cake-moon-menu@2.1.2
</span></span></code></pre></td></tr></table></div></div><p>然后在站点配置文件<code>_config.yml </code>中添加以下代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>moon_menu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>back2top</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>fa fa-chevron-up</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>func</span><span class=p>:</span><span class=w> </span><span class=l>back2top</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>order</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>back2bottom</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>fa fa-chevron-down</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>func</span><span class=p>:</span><span class=w> </span><span class=l>back2bottom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>order</span><span class=p>:</span><span class=w> </span>-<span class=m>2</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>{% note info %}</p><p>2021.3.22 注意：如果在hexo升级5.4后，安装有此插件就会报错（当然也有可能是主题和这个插件不兼容，Next升级8.5后不会报错了，大概率是主题问题，只需升级到最新主题，即可避免这个问题），<del>则需要卸载此插件。代码如下：</del></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm remove hexo-cake-moon-menu --save
</span></span></code></pre></td></tr></table></div></div><hr><p>2021.6.19 安装此插件，不报错了，目前版本hexo 5.4+Next 8.5</p><p>{% endnote %}</p><h3 id=菜单栏显示分类--标签中的文章数目>菜单栏显示分类 / 标签中的文章数目</h3><p>scheme选择Gemini</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>menu_settings</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>badges</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 显示菜单分类的数目</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=进阶配置>进阶配置</h2><h3 id=修改文章默认模板>修改文章默认模板</h3><p>修改<code>hexo\scaffolds\post.md</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>title: {{ title }}
</span></span><span class=line><span class=cl>date: {{ date }}
</span></span><span class=line><span class=cl>categories: []
</span></span><span class=line><span class=cl>tags: []
</span></span><span class=line><span class=cl>abbrlink: 
</span></span><span class=line><span class=cl>top: 
</span></span></code></pre></td></tr></table></div></div><h3 id=新增文章时自动打开markdown编辑器>新增文章时自动打开Markdown编辑器</h3><p>首先在 <code>hexo/scripts</code> 下新建一个 <code>newpost.js</code> 文件，如果没有 <code>scripts</code> 文件可以手动创建一个。</p><p>在这个文件写入如下代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>spawn</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;child_process&#39;</span><span class=p>).</span><span class=nx>exec</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>hexo</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;new&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>data</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=nx>spawn</span><span class=p>(</span><span class=s1>&#39;start  &#34;markdown编辑器绝对路径.exe&#34; &#39;</span> <span class=o>+</span> <span class=nx>data</span><span class=p>.</span><span class=nx>path</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>注意里面要修改的是 Markdown 编辑器的绝对路径，我使用的是 Typora ，所以我的绝对路径是 <code>D:\Program Files\Typora\Typora.exe</code> ，大家可以对应进行修改。</p><h3 id=pjax插件>Pjax插件</h3><p>Pjax是基于Ajax的插件，能实现网页局部无刷新载入，听起来很香，然而存在一些小问题：</p><div class="note danger">如果使用utterances评论系统，一定要先关闭Pjax插件，否则utterances评论无法登陆</div><ul><li>使用Mediumzoom时，从归档进入博文不会加载图片，需要刷新网页才能加载</li><li>Echarts图表全部需要刷新才能显示，否则只有一片空白</li></ul><p>安装Pjax，地址：<a class=link href=https://github.com/next-theme/pjax target=_blank rel=noopener> next-theme /pjax </a>，运行以下代码安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git clone https://github.com/next-theme/pjax source/lib/pjax
</span></span></code></pre></td></tr></table></div></div><p>然后在next.yml中搜索pjax并设置为<code>pjax: true</code></p><p>如果部署是报错:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ERROR Process failed: lib/pjax/README.md
</span></span><span class=line><span class=cl>YAMLException: end of the stream or a document separator is expected at line 9, column 102:
</span></span><span class=line><span class=cl>     ... languages` and other directories:
</span></span></code></pre></td></tr></table></div></div><p>解决方法：<a class=link href=https://github.com/next-theme/pjax/issues/2 target=_blank rel=noopener>安装完pjax插件后，部署时报错</a></p><p>在 Hexo 的 _config.yml 中找到名为 skip_render 的选项，然后设置为这样:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>skip_render:
</span></span><span class=line><span class=cl>  - lib/**/*
</span></span></code></pre></td></tr></table></div></div><h3 id=加载进度条>加载进度条</h3><div class="note primary">注意next8.0.1后改用NProgress进度条插件</div><p>在next.yml中搜索Progress bar in the top during page loading并设置为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>nprogress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>spinner</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class="note primary">next8.0.1之前，先安装插件：</div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git clone https://github.com/theme-next/theme-next-pace source/lib/pace
</span></span></code></pre></td></tr></table></div></div><p>然后设置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>pace</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=阅读进度条>阅读进度条</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Reading progress bar</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>reading_progress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Available values: top | bottom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>position</span><span class=p>:</span><span class=w> </span><span class=l>top</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;#37c6c0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>height</span><span class=p>:</span><span class=w> </span><span class=l>3px</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=背景图片>背景图片</h3><p>将背景图片放置在./hexo/themes/next/source/images中并命名为background.jpg
然后在./hexo/source/_data/styles.styl中添加</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>body</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>:</span><span class=nx>url</span><span class=p>(</span><span class=err>/images/background.jpg);//图片路径</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>-</span><span class=nx>repeat</span><span class=o>:</span> <span class=nx>no</span><span class=o>-</span><span class=nx>repeat</span><span class=p>;</span><span class=c1>//是否重复平铺
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>background</span><span class=o>-</span><span class=nx>attachment</span><span class=o>:</span> <span class=nx>fixed</span><span class=p>;</span><span class=c1>//是否随着网页上下滚动而滚动，fixed为固定
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>background</span><span class=o>-</span><span class=nx>position</span><span class=o>:</span> <span class=mi>50</span><span class=o>%</span> <span class=mi>50</span><span class=o>%</span><span class=p>;</span><span class=c1>//图片位置
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>background</span><span class=o>-</span><span class=nx>size</span><span class=o>:</span> <span class=nx>cover</span><span class=p>;</span><span class=c1>//图片展示大小
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>-</span><span class=nx>webkit</span><span class=o>-</span><span class=nx>background</span><span class=o>-</span><span class=nx>size</span><span class=o>:</span> <span class=nx>cover</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=nx>o</span><span class=o>-</span><span class=nx>background</span><span class=o>-</span><span class=nx>size</span><span class=o>:</span> <span class=nx>cover</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=nx>moz</span><span class=o>-</span><span class=nx>background</span><span class=o>-</span><span class=nx>size</span><span class=o>:</span> <span class=nx>cover</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=nx>ms</span><span class=o>-</span><span class=nx>background</span><span class=o>-</span><span class=nx>size</span><span class=o>:</span> <span class=nx>cover</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>opacity</span><span class=o>:</span> <span class=mf>0.95</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>footer</span> <span class=o>&gt;</span> <span class=nx>div</span> <span class=o>&gt;</span> <span class=nx>div</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>color</span><span class=o>:</span><span class=err>#</span><span class=mi>000000</span><span class=p>;</span><span class=c1>//底部文字颜色
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>第二种代码：（未测试，目前使用的是上面的代码）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>body</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>:</span><span class=nx>url</span><span class=p>(</span><span class=err>/images/yourbackground.jpg);</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>-</span><span class=nx>repeat</span><span class=o>:</span> <span class=nx>no</span><span class=o>-</span><span class=nx>repeat</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>-</span><span class=nx>attachment</span><span class=o>:</span><span class=nx>fixed</span><span class=p>;</span> <span class=c1>//不重复
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>background</span><span class=o>-</span><span class=nx>size</span><span class=o>:</span> <span class=nx>cover</span><span class=p>;</span>      <span class=c1>//填充
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>background</span><span class=o>-</span><span class=nx>position</span><span class=o>:</span><span class=mi>50</span><span class=o>%</span> <span class=mi>50</span><span class=o>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//博客内容透明化
</span></span></span><span class=line><span class=cl><span class=c1>//文章内容的透明度设置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>.</span><span class=nx>content</span><span class=o>-</span><span class=nx>wrap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>opacity</span><span class=o>:</span> <span class=mf>0.95</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//侧边框的透明度设置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>.</span><span class=nx>sidebar</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>opacity</span><span class=o>:</span> <span class=mf>0.9</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//菜单栏的透明度设置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>.</span><span class=nx>header</span><span class=o>-</span><span class=nx>inner</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>background</span><span class=o>:</span> <span class=nx>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span><span class=mi>255</span><span class=p>,</span><span class=mi>255</span><span class=p>,</span><span class=mf>0.9</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//搜索框（local-search）的透明度设置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>.</span><span class=nx>popup</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>opacity</span><span class=o>:</span> <span class=mf>0.9</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=首页文章阴影边框>首页文章阴影边框</h3><p>找到三种方法，在next7.7.2中都不起效。</p><h4 id=scheme选择gemini>scheme选择Gemini</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Schemes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#scheme: Muse</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#scheme: Mist</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#scheme: Pisces</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>scheme</span><span class=p>:</span><span class=w> </span><span class=l>Gemini</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=在stylesstyl里添加代码>在<code>styles.styl</code>里添加代码</h4><p>方法一只有首页第一篇文章有阴影效果，其他两种方法都没有效果。（不折腾了）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>.</span><span class=nx>content</span><span class=o>-</span><span class=nx>wrap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>:</span> <span class=nx>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>post</span><span class=o>-</span><span class=nx>block</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>box</span><span class=o>-</span><span class=nx>shadow</span><span class=o>:</span> <span class=mi>0</span> <span class=mi>2</span><span class=nx>px</span> <span class=mi>6</span><span class=nx>px</span> <span class=mi>0</span> <span class=nx>rgb</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mf>0.6</span><span class=p>),</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>6</span><span class=nx>px</span> <span class=mi>0</span> <span class=nx>rgb</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mf>0.6</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>background</span><span class=o>:</span> <span class=err>#</span><span class=nx>FFF</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 主页文章添加阴影效果
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=p>.</span><span class=nx>post_block</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>opacity</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=nx>margin</span><span class=o>-</span><span class=nx>top</span><span class=o>:</span> <span class=mi>60</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=nx>margin</span><span class=o>-</span><span class=nx>bottom</span><span class=o>:</span> <span class=mi>60</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=nx>padding</span><span class=o>:</span> <span class=mi>25</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=o>-</span><span class=nx>webkit</span><span class=o>-</span><span class=nx>box</span><span class=o>-</span><span class=nx>shadow</span><span class=o>:</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>5</span><span class=nx>px</span> <span class=nx>rgba</span><span class=p>(</span><span class=mi>202</span><span class=p>,</span> <span class=mi>203</span><span class=p>,</span> <span class=mi>203</span><span class=p>,</span> <span class=p>.</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=o>-</span><span class=nx>moz</span><span class=o>-</span><span class=nx>box</span><span class=o>-</span><span class=nx>shadow</span><span class=o>:</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>5</span><span class=nx>px</span> <span class=nx>rgba</span><span class=p>(</span><span class=mi>202</span><span class=p>,</span> <span class=mi>203</span><span class=p>,</span> <span class=mi>204</span><span class=p>,</span> <span class=p>.</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 主页文章添加阴影效果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>.</span><span class=nx>post</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>margin</span><span class=o>-</span><span class=nx>top</span><span class=o>:</span> <span class=mi>0</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=nx>margin</span><span class=o>-</span><span class=nx>bottom</span><span class=o>:</span> <span class=mi>60</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=nx>padding</span><span class=o>:</span> <span class=mi>25</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=o>-</span><span class=nx>webkit</span><span class=o>-</span><span class=nx>box</span><span class=o>-</span><span class=nx>shadow</span><span class=o>:</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>5</span><span class=nx>px</span> <span class=nx>rgba</span><span class=p>(</span><span class=mi>202</span><span class=p>,</span> <span class=mi>203</span><span class=p>,</span> <span class=mi>203</span><span class=p>,</span> <span class=p>.</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=o>-</span><span class=nx>moz</span><span class=o>-</span><span class=nx>box</span><span class=o>-</span><span class=nx>shadow</span><span class=o>:</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>5</span><span class=nx>px</span> <span class=nx>rgba</span><span class=p>(</span><span class=mi>202</span><span class=p>,</span> <span class=mi>203</span><span class=p>,</span> <span class=mi>204</span><span class=p>,</span> <span class=p>.</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=自定义单行代码颜色>自定义单行代码颜色</h3><p>在./hexo/source/_data/styles.styl中添加</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 单行代码颜色
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>code</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>color</span><span class=o>:</span> <span class=err>#</span><span class=nx>ff511A</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>background</span><span class=o>:</span> <span class=err>#</span><span class=nx>fbf7f8</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>margin</span><span class=o>:</span> <span class=mi>2</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=代码块高亮diff写法>代码块高亮<code>diff</code>写法</h3><p>Next主题其实是自带代码块高亮显示的，但是有另外一种好玩的代码块高亮写法，叫 <code>diff</code> 语言。只需要在 markdown 语法代码块的语言选择处写上 <code>diff</code> 即可，然后在相应代码前面加上 <code>-</code> 和 <code>+ </code>就行了。（<strong>注意<code>+ -</code>前面不要加空格</strong>）</p><p><img src=https://cdn.jsdelivr.net/gh/iwyang/pic/20200721161157.jpg loading=lazy></p><h3 id=菜单中文翻译>菜单中文翻译</h3><p>我们原来是通过配置主题下的 languages 目录中的 zh-CN.yml 文件来对菜单等进行中文翻译的，现在我们可以通过在 hexo/source/_data/ 下新建数据文件 languages.yml，配置如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>zh-CN</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>menu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>home</span><span class=p>:</span><span class=w> </span><span class=l>首页</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>top</span><span class=p>:</span><span class=w> </span><span class=l>热榜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>archives</span><span class=p>:</span><span class=w> </span><span class=l>归档</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=l>分类</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=l>标签</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>about</span><span class=p>:</span><span class=w> </span><span class=l>关于</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>links</span><span class=p>:</span><span class=w> </span><span class=l>友情链接</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>search</span><span class=p>:</span><span class=w> </span><span class=l>搜索</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>schedule</span><span class=p>:</span><span class=w> </span><span class=l>日程表</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sitemap</span><span class=p>:</span><span class=w> </span><span class=l>站点地图</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>commonweal</span><span class=p>:</span><span class=w> </span><span class=l>公益 404</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>movies</span><span class=p>:</span><span class=w> </span><span class=l>观影</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>books</span><span class=p>:</span><span class=w> </span><span class=l>阅读</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>gallery</span><span class=p>:</span><span class=w> </span><span class=l>画廊</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>reward</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>donate</span><span class=p>:</span><span class=w> </span><span class=l>&lt;i class=&#34;fa fa-qrcode fa-2x&#34; style=&#34;line-height:35px;&#34;&gt;&lt;/i&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>wechatpay</span><span class=p>:</span><span class=w> </span><span class=l>微信支付</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>alipay</span><span class=p>:</span><span class=w> </span><span class=l>支付宝</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>bitcoin</span><span class=p>:</span><span class=w> </span><span class=l>比特币</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=文章末尾添加本文结束分割线>文章末尾添加本文结束分割线</h3><p>新建 source/_data/post-body-end.swig 文件，添加内容：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {% if not is_index %}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;text-align:center;color: #ccc;font-size:14px;&#34;</span><span class=p>&gt;</span>-------------本文结束<span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa fa-paw&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>感谢您的阅读-------------<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {% endif %}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>在next.yml中，去掉注释
<code>postBodyEnd: source/_data/post-body-end.swig</code></p><h3 id=圆角设置中文字体设置>圆角设置、中文字体设置</h3><h4 id=圆角设置>圆角设置</h4><p>在自定义样式文件 <code>hexo\source\_data\variables.styl</code> 中添加：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 圆角设置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>$border</span><span class=o>-</span><span class=nx>radius</span><span class=o>-</span><span class=nx>inner</span>     <span class=o>=</span> <span class=mi>20</span><span class=nx>px</span> <span class=mi>20</span><span class=nx>px</span> <span class=mi>20</span><span class=nx>px</span> <span class=mi>20</span><span class=nx>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>$border</span><span class=o>-</span><span class=nx>radius</span>           <span class=o>=</span> <span class=mi>20</span><span class=nx>px</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>然后在 NexT 的配置文件 next.yml 中取消 variables.styl 的注释：
<code>variable: source/_data/variables.styl</code>
在这里会有一个bug，左下角始终会有个白块。解决方法:你只需要在 <code>source\_data\styles.styl</code> 文件中添加一行代码即可：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 修复圆角
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>:</span><span class=nx>root</span><span class=p>{</span><span class=o>--</span><span class=nx>body</span><span class=o>-</span><span class=nx>bg</span><span class=o>-</span><span class=nx>color</span><span class=o>:</span> <span class=nx>hsla</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=o>%</span><span class=p>,</span><span class=mi>100</span><span class=o>%</span><span class=p>,</span><span class=mi>0</span><span class=p>)}</span>
</span></span></code></pre></td></tr></table></div></div><p>或者添加下列代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 修复圆角
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>.</span><span class=nx>sidebar</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=nx>box</span><span class=o>-</span><span class=nx>shadow</span><span class=o>:</span> <span class=nx>none</span>
</span></span><span class=line><span class=cl><span class=nx>background</span><span class=o>:</span> <span class=nx>none</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=中文字体设置>中文字体设置</h4><p>首先修改主题配置文件 next.yml：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>font:
</span></span><span class=line><span class=cl><span class=gd>- enable: false
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+ enable: true
</span></span></span><span class=line><span class=cl><span class=gi></span>
</span></span><span class=line><span class=cl>  # Uri of fonts host. E.g. //fonts.googleapis.com (Default).
</span></span><span class=line><span class=cl><span class=gd>- host:
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+ host: https://fonts.loli.net
</span></span></span><span class=line><span class=cl><span class=gi></span>
</span></span><span class=line><span class=cl>  # Font options:
</span></span><span class=line><span class=cl>  # `external: true` will load this font family from `host` above.
</span></span><span class=line><span class=cl>  # `family: Times New Roman`. Without any quotes.
</span></span><span class=line><span class=cl>  # `size: xx`. Use `px` as unit.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # Global font settings used for all elements in &lt;body&gt;.
</span></span><span class=line><span class=cl>  global:
</span></span><span class=line><span class=cl>    external: true
</span></span><span class=line><span class=cl><span class=gd>-   family:
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+   family: Noto Serif SC
</span></span></span><span class=line><span class=cl><span class=gi></span>    size:
</span></span></code></pre></td></tr></table></div></div><p>修改配置文件 \hexo\source_data\variables.styl，增加如下代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>// 中文字体</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>$font-family-monospace    = consolas, Menlo, monospace, $font-family-base;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>$font-family-monospace    = get_font_family(&#39;codes&#39;), consolas, Menlo, monospace, $font-family-base if get_font_family(&#39;codes&#39;);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=鼠标点击特效打字特效友链等>鼠标点击特效、打字特效、友链等</h3><h4 id=打字特效鼠标点击特效>打字特效、鼠标点击特效</h4><p>之前版本：<a class=link href=https://tding.top/archives/58cff12b.html target=_blank rel=noopener>Hexo-NexT 添加打字特效、鼠标点击特效</a>中，以下代码是放在 <code>hexo/next/_layout/_custom/custom.swig</code> 文件中的，现在这部分代码需要放到 <code>hexo/source/_data/body-end.swig</code> 文件中：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span><span class=err>#</span> <span class=nx>鼠标点击特效</span> <span class=err>#</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=k>if</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>cursor_effect</span> <span class=o>==</span> <span class=s2>&#34;fireworks&#34;</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span> <span class=kr>async</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;/js/cursor/fireworks.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=nx>elseif</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>cursor_effect</span> <span class=o>==</span> <span class=s2>&#34;explosion&#34;</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>canvas</span> <span class=kr>class</span><span class=o>=</span><span class=s2>&#34;fireworks&#34;</span> <span class=nx>style</span><span class=o>=</span><span class=s2>&#34;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&#34;</span> <span class=o>&gt;&lt;</span><span class=err>/canvas&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;//cdn.bootcss.com/animejs/2.2.0/anime.min.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span> <span class=kr>async</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;/js/cursor/explosion.min.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=nx>elseif</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>cursor_effect</span> <span class=o>==</span> <span class=s2>&#34;love&#34;</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span> <span class=kr>async</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;/js/cursor/love.min.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=nx>elseif</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>cursor_effect</span> <span class=o>==</span> <span class=s2>&#34;text&#34;</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span> <span class=kr>async</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;/js/cursor/text.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=nx>endif</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=err>#</span> <span class=nx>打字特效</span> <span class=err>#</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=k>if</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>typing_effect</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;/js/activate-power-mode.min.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=nx>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>POWERMODE</span><span class=p>.</span><span class=nx>colorful</span> <span class=o>=</span> <span class=p>{{</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>typing_effect</span><span class=p>.</span><span class=nx>colorful</span> <span class=p>}};</span>
</span></span><span class=line><span class=cl>    <span class=nx>POWERMODE</span><span class=p>.</span><span class=nx>shake</span> <span class=o>=</span> <span class=p>{{</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>typing_effect</span><span class=p>.</span><span class=nx>shake</span> <span class=p>}};</span>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;input&#39;</span><span class=p>,</span> <span class=nx>POWERMODE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=nx>endif</span> <span class=o>%</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>然后在 NexT 的配置文件 <code>next.yml</code> 中取消 <code>body-end.swig</code> 的注释：
<code>bodyEnd: source/_data/body-end.swig</code>
然后我们在 <code>next.yml</code> 中增加如下配置项：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 鼠标点击特效</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># mouse click effect: fireworks | explosion | love | text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cursor_effect</span><span class=p>:</span><span class=w> </span><span class=l>fireworks</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 打字特效</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># typing effect</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>typing_effect</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>colorful</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># 礼花特效</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>shake</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>    </span><span class=c># 震动特效</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>注意：上面所有特效的 JS 代码文件都放在站点的 source 目录下（即 <code>hexo/source/js/</code>）而不是主题目录下，如果没有 js 目录，则新建一个。</p><h4 id=友链添加>友链添加</h4><p>详见：<a class=link href=https://tding.top/archives/73ce4e7.html target=_blank rel=noopener>Hexo-NexT 新增友链</a>
从第一种友链方式改用第二种友链方式，因为第二种瀑布流友链样式是不用修改 NexT 主题源文件的。</p><h4 id=代码块折叠>代码块折叠</h4><p>参考：<a class=link href=https://tding.top/archives/2bd6d82.html#%E4%BB%A3%E7%A0%81%E5%9D%97%E6%8A%98%E5%8F%A0 target=_blank rel=noopener>代码块折叠</a></p><h3 id=近期文章粒子时钟特效>近期文章、粒子时钟特效</h3><h4 id=近期文章>近期文章</h4><p>现在我们把上面的代码放到 hexo/source/_data/sidebar.swig 文件中，并且做以下更改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=k>if</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>recent_posts</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span> <span class=kr>class</span><span class=o>=</span><span class=s2>&#34;links-of-blogroll motion-element {{ &#34;</span><span class=nx>links</span><span class=o>-</span><span class=k>of</span><span class=o>-</span><span class=nx>blogroll</span><span class=o>-</span><span class=s2>&#34; + theme.recent_posts_layout  }}&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>div</span> <span class=kr>class</span><span class=o>=</span><span class=s2>&#34;links-of-blogroll-title&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=c>&lt;!--</span> <span class=nx>modify</span> <span class=nx>icon</span> <span class=nx>to</span> <span class=nx>fire</span> <span class=nx>by</span> <span class=nx>szw</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>i</span> <span class=kr>class</span><span class=o>=</span><span class=s2>&#34;fa fa-history fa-{{ theme.recent_posts_icon | lower }}&#34;</span> <span class=nx>aria</span><span class=o>-</span><span class=nx>hidden</span><span class=o>=</span><span class=s2>&#34;true&#34;</span><span class=o>&gt;&lt;</span><span class=err>/i&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>{{</span> <span class=nx>theme</span><span class=p>.</span><span class=nx>recent_posts_title</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>ul</span> <span class=kr>class</span><span class=o>=</span><span class=s2>&#34;links-of-blogroll-list&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>-</span>        <span class=p>{</span><span class=o>%</span> <span class=nx>set</span> <span class=nx>posts</span> <span class=o>=</span> <span class=nx>site</span><span class=p>.</span><span class=nx>posts</span><span class=p>.</span><span class=nx>sort</span><span class=p>(</span><span class=s1>&#39;-date&#39;</span><span class=p>)</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>+</span>        <span class=p>{</span><span class=o>%</span> <span class=nx>set</span> <span class=nx>posts</span> <span class=o>=</span> <span class=nx>site</span><span class=p>.</span><span class=nx>posts</span><span class=p>.</span><span class=nx>sort</span><span class=p>(</span><span class=s1>&#39;-date&#39;</span><span class=p>).</span><span class=nx>toArray</span><span class=p>()</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=o>%</span> <span class=k>for</span> <span class=nx>post</span> <span class=k>in</span> <span class=nx>posts</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=s1>&#39;0&#39;</span><span class=p>,</span> <span class=s1>&#39;5&#39;</span><span class=p>)</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=o>&lt;</span><span class=nx>a</span> <span class=nx>href</span><span class=o>=</span><span class=s2>&#34;{{ url_for(post.path) }}&#34;</span> <span class=nx>title</span><span class=o>=</span><span class=s2>&#34;{{ post.title }}&#34;</span> <span class=nx>target</span><span class=o>=</span><span class=s2>&#34;_blank&#34;</span><span class=o>&gt;</span><span class=p>{{</span> <span class=nx>post</span><span class=p>.</span><span class=nx>title</span> <span class=p>}}</span><span class=o>&lt;</span><span class=err>/a&gt;</span>
</span></span><span class=line><span class=cl>          <span class=o>&lt;</span><span class=err>/li&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=o>%</span> <span class=nx>endfor</span> <span class=o>%</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=err>/ul&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=o>%</span> <span class=nx>endif</span> <span class=o>%</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>这是因为 NexT 已经更换 Nunjucks 作为模板引擎。</p><p>然后在 NexT 的配置文件 next.yml 中取消 sidebar.swig 的注释：
<code>sidebar: source/_data/sidebar.swig</code>
最后，为了配置方便，在主题的<code>next.yml</code> 中添加了几个变量，如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>recent_posts_title</span><span class=p>:</span><span class=w> </span><span class=l>近期文章</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>recent_posts_layout</span><span class=p>:</span><span class=w> </span><span class=l>block</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>recent_posts</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=粒子时钟特效>粒子时钟特效</h4><p>现在我们只需要把粒子时钟的 js 代码直接放入到 <code>hexo/source/_data/sidebar.swig</code> 文件即可。
详情见：<a class=link href=http://bore.vip/archives/2764ed9c.html target=_blank rel=noopener>Hexo-NexT 增加 canvas 粒子时钟</a></p><h3 id=置顶文章标志>置顶文章标志</h3><p>首先我们需要安装 hexo-generator-index-pin-top 这个插件，</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm uninstall hexo-generator-index --save
</span></span><span class=line><span class=cl>npm install hexo-generator-index-pin-top --save
</span></span></code></pre></td></tr></table></div></div><p>{% note primary %}</p><p>2021.6.19：如果卸载<code>hexo-generator-index</code>，没有安装<code>hexo-generator-index-pin-top</code>，本地预览会提示<code>Cannot GET/</code>，原因在于缺少了<code>hexo-generator-index</code>组件。</p><p>{% endnote %}</p><p>然后将以下代码放入 hexo/source/_data/post-meta.swig 文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{% if post.top %}
</span></span><span class=line><span class=cl>    &lt;span class=&#34;post-meta-divider&#34;&gt;|&lt;/span&gt;
</span></span><span class=line><span class=cl>    &lt;i class=&#34;fa fa-thumb-tack&#34;&gt;&lt;/i&gt;
</span></span><span class=line><span class=cl>    &lt;font color=7D26CD&gt;置顶&lt;/font&gt;
</span></span><span class=line><span class=cl>    &lt;span class=&#34;post-meta-divider&#34;&gt;|&lt;/span&gt;
</span></span><span class=line><span class=cl>{% endif %}
</span></span></code></pre></td></tr></table></div></div><p>然后在 NexT 的配置文件 next.yml 中取消 post-meta.swig 的注释：
<code>post-meta: source/_data/post-meta.swig</code>
使用方法：在需要置顶的文章的 Front-matter 中加上 top: true 或者 top: 任意数字，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: TMDb电影数据分析
</span></span><span class=line><span class=cl>declare: true
</span></span><span class=line><span class=cl>toc: true
</span></span><span class=line><span class=cl>tags:
</span></span><span class=line><span class=cl>  - Python
</span></span><span class=line><span class=cl>  - 数据分析
</span></span><span class=line><span class=cl>categories:
</span></span><span class=line><span class=cl>  - 数据分析
</span></span><span class=line><span class=cl>  - 实战
</span></span><span class=line><span class=cl>abbrlink: 7e380af2
</span></span><span class=line><span class=cl>date: 2018-11-23 13:20:03
</span></span><span class=line><span class=cl>top: 100
</span></span><span class=line><span class=cl>---
</span></span></code></pre></td></tr></table></div></div><p>注意：top 中数字越大，文章越靠前。</p><h3 id=静态资源压缩插件>静态资源压缩插件</h3><p>安装插件：
<code>npm install hexo-neat --save</code>
然后我们需要在<strong>站点配置文件</strong>中添加以下代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 博文压缩</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>neat_enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 压缩html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>neat_html</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>exclude</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 压缩css  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>neat_css</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>exclude</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;**/*.min.css&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 压缩js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>neat_js</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mangle</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>output</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>compress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>exclude</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;**/*.min.js&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;**/jquery.fancybox.pack.js&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;**/index.js&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=s1>&#39;**/fireworks.js&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=首页改归档页>首页改归档页</h3><p>把 <code>layout/archive.swig</code> 改为 <code>layout/index.swig</code> 就行了。不过注意此时首页的 <code>meta</code> 信息是 <code>archive</code> （归档）……要做个清爽合格的首页，可以把原 <code>index.swig</code> 的 <code>meta</code> 信息拷贝到新 <code>index.swig</code> 下。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>// new index.swig (archive.swig)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gd>- {% block title %}{{ __(&#39;title.archive&#39;) }} | {{ title }}{% endblock %}
</span></span></span><span class=line><span class=cl><span class=gd></span>
</span></span><span class=line><span class=cl><span class=gi>+ {% block title %}{{ title }}{%- if theme.index_with_subtitle and subtitle %} - {{ subtitle }}{%- endif %}{% endblock %}
</span></span></span></code></pre></td></tr></table></div></div><h3 id=修改首页归档页显示文章数量>修改首页、归档页显示文章数量</h3><p>站点配置文件<code>_config.yml</code>里修改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>index_generator</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>per_page</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>order_by</span><span class=p>:</span><span class=w> </span>-<span class=l>date</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Pagination</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>## Set per_page to 0 to disable pagination</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>per_page</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>pagination_dir</span><span class=p>:</span><span class=w> </span><span class=l>page</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=关闭文章目录自动数字编号>关闭文章目录自动数字编号</h3><p>关闭文章目录自动数字编号后，可以自定义目录数字编号。</p><p>在hexo\source_data\next.yml里修改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>toc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Automatically add list number to toc.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># If true, all words will placed on next lines if header width longer then sidebar width.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>wrap</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># If true, all level of TOC in a post will be displayed, rather than the activated part of it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expand_all</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Maximum heading depth of generated toc.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>max_depth</span><span class=p>:</span><span class=w> </span><span class=m>6</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=自动部署脚本>自动部署脚本</h3><p>在根目录新建<code>deploy.sh</code>，输入以下内容：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=ch>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=ch></span><span class=nx>echo</span> <span class=o>-</span><span class=nx>e</span> <span class=s2>&#34;\033[0;32mDeploying updates to gitee...\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>git</span> <span class=nx>add</span> <span class=p>.</span>	
</span></span><span class=line><span class=cl><span class=nx>git</span> <span class=nx>commit</span> <span class=o>-</span><span class=nx>m</span> <span class=s2>&#34;site backup&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>git</span> <span class=nx>push</span> <span class=o>--</span><span class=nx>force</span> <span class=nx>origin</span> <span class=nx>master</span>
</span></span><span class=line><span class=cl><span class=nx>hexo</span> <span class=nx>clean</span>
</span></span><span class=line><span class=cl><span class=nx>hexo</span> <span class=nx>g</span> <span class=o>-</span><span class=nx>d</span>
</span></span></code></pre></td></tr></table></div></div><p>有时候可能需要多次运行脚本才能提交成功，这时不妨手动输入命令。</p><h3 id=stylesstyl自定义样式><code>styles.styl</code>自定义样式</h3><p>自用自定义样式如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>// 背景图片</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>body {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>background:url(https://cdn.jsdelivr.net/gh/iwyang/pic/background.jpg);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background-repeat</span><span class=p>:</span><span class=w> </span><span class=kc>no</span>-<span class=l>repeat;//是否重复平铺</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background-attachment</span><span class=p>:</span><span class=w> </span><span class=l>fixed;//是否随着网页上下滚动而滚动，fixed为固定</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background-position</span><span class=p>:</span><span class=w> </span><span class=m>50</span><span class=l>% 50%;//图片位置</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background-size</span><span class=p>:</span><span class=w> </span><span class=l>cover;//图片展示大小</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>-webkit-background-size</span><span class=p>:</span><span class=w> </span><span class=l>cover;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>-o-background-size</span><span class=p>:</span><span class=w> </span><span class=l>cover;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>-moz-background-size</span><span class=p>:</span><span class=w> </span><span class=l>cover;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>-ms-background-size</span><span class=p>:</span><span class=w> </span><span class=l>cover;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>opacity</span><span class=p>:</span><span class=w> </span><span class=m>0.95</span><span class=l>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>footer &gt; div &gt; div {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=l>color:#000000;//底部文字颜色</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>// 单行代码颜色</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>code {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=c>#ff511A;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background</span><span class=p>:</span><span class=w> </span><span class=c>#fbf7f8;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>margin</span><span class=p>:</span><span class=w> </span><span class=l>2px;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>// 修复圆角</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>:</span><span class=l>root{--body-bg-color: hsla(0,0%,100%,0)}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>// 修改选中字符的颜色</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>/* webkit, opera, IE9 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>::</span><span class=l>selection {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background</span><span class=p>:</span><span class=w> </span><span class=c>#00c4b6;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=c>#f7f7f7;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>/* firefox */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>::</span>-<span class=l>moz-selection {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>background</span><span class=p>:</span><span class=w> </span><span class=c>#00c4b6;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=c>#f7f7f7;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>// 删除线</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>del {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=c>#b35888;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>background</span><span class=p>:</span><span class=w> </span><span class=c>#fbf7f8;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>margin</span><span class=p>:</span><span class=w> </span><span class=l>2px;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>// 文章内链接文本样式 </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>.post-body p a{ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=c>#0593d3; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>border-bottom</span><span class=p>:</span><span class=w> </span><span class=l>none; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>border-bottom</span><span class=p>:</span><span class=w> </span><span class=l>1px solid</span><span class=w> </span><span class=c>#0593d3; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cp>&amp;:hover</span><span class=w> </span>{<span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=c>#fc6423; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>border-bottom</span><span class=p>:</span><span class=w> </span><span class=l>none; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>border-bottom</span><span class=p>:</span><span class=w> </span><span class=l>1px solid</span><span class=w> </span><span class=c>#fc6423; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>}<span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=二级菜单目录>二级菜单目录</h3><p>NexT 主题支持多级目录，但是官网并没有直接给出配置的方法，因此很少见到有人使用，具体的样式可以参考官方网站的 Docs 页面，其上方的样式即为二级目录和三级目录。</p><p><img src=/img/Hexo-NexT%20%28v7.7.2%29%20%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/20200821211714.png loading=lazy></p><p>就以官方网站的 Docs 页面为例，其配置文件的目录设定内容为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>menu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>News</span><span class=p>:</span><span class=w> </span><span class=l>/ || bullhorn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>Docs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>/docs/ || book</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Getting Started</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>/getting-started/ || flag</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Installation</span><span class=p>:</span><span class=w> </span><span class=l>/installation.html || download</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Deployment</span><span class=p>:</span><span class=w> </span><span class=l>/deployment.html || upload</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Data Files</span><span class=p>:</span><span class=w> </span><span class=l>/data-files.html || wrench</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Update from 5.x</span><span class=p>:</span><span class=w> </span><span class=l>/update-from-v5.html || retweet</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Theme Settings</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>/theme-settings/ || star</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Footer</span><span class=p>:</span><span class=w> </span><span class=l>/footer.html || sun-o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Sidebar</span><span class=p>:</span><span class=w> </span><span class=l>/sidebar.html || bars</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Posts</span><span class=p>:</span><span class=w> </span><span class=l>/posts.html || pencil-square-o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Custom Pages</span><span class=p>:</span><span class=w> </span><span class=l>/custom-pages.html || file-o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>SEO</span><span class=p>:</span><span class=w> </span><span class=l>/seo.html || external-link-square</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Front Matter</span><span class=p>:</span><span class=w> </span><span class=l>/front-matter.html || header</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Third Party Services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>/third-party-services/ || plug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Math Equations</span><span class=p>:</span><span class=w> </span><span class=l>/math-equations.html || superscript</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Comment Systems</span><span class=p>:</span><span class=w> </span><span class=l>/comments.html || comments-o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Statistics and Analytics</span><span class=p>:</span><span class=w> </span><span class=l>/statistics-and-analytics.html || bar-chart</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Post Widgets</span><span class=p>:</span><span class=w> </span><span class=l>/post-widgets.html || share-square</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Search Services</span><span class=p>:</span><span class=w> </span><span class=l>/search-services.html || search-plus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Chat Services</span><span class=p>:</span><span class=w> </span><span class=l>/chat-services.html || comment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>External Libraries</span><span class=p>:</span><span class=w> </span><span class=l>/external-libraries.html || puzzle-piece</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Tag Plugins</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>/tag-plugins/ || rocket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Note</span><span class=p>:</span><span class=w> </span><span class=l>/note.html || comment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Tabs</span><span class=p>:</span><span class=w> </span><span class=l>/tabs.html || columns</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PDF</span><span class=p>:</span><span class=w> </span><span class=l>/pdf.html || file-pdf-o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Mermaid</span><span class=p>:</span><span class=w> </span><span class=l>/mermaid.html || tasks</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Label</span><span class=p>:</span><span class=w> </span><span class=l>/label.html || font</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Video</span><span class=p>:</span><span class=w> </span><span class=l>/video.html || video-camera</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Button</span><span class=p>:</span><span class=w> </span><span class=l>/button.html || square</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Caniuse</span><span class=p>:</span><span class=w> </span><span class=l>/caniuse.html || signal</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Group Pictures</span><span class=p>:</span><span class=w> </span><span class=l>/group-pictures.html || file-image-o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Advanced Settings</span><span class=p>:</span><span class=w> </span><span class=l>/advanced-settings.html || cogs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>FAQ&#39;s</span><span class=p>:</span><span class=w> </span><span class=l>/faqs.html || life-ring</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Troubleshooting</span><span class=p>:</span><span class=w> </span><span class=l>/troubleshooting.html || bug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>archives</span><span class=p>:</span><span class=w> </span><span class=l>/archives/ || archive</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>也就是说，在一级目录 <code>Docs</code> 下，我们想要创建 <code>Getting Started</code>、<code>Theme Settings</code> 等二级目录页面，那么需要作出如下修改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>menu:
</span></span><span class=line><span class=cl><span class=gd>-   Docs: /docs/ || book
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+   Docs:
</span></span></span><span class=line><span class=cl><span class=gi>+         default: /docs/ || book
</span></span></span></code></pre></td></tr></table></div></div><p>即将当前目录默认页面的名称改为 <code>default</code>。然后再在 <code>default</code> 同级下添加：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>Docs:
</span></span><span class=line><span class=cl>      default: /docs/ || book
</span></span><span class=line><span class=cl><span class=gi>+     Getting Started: /getting-started/ || flag
</span></span></span><span class=line><span class=cl><span class=gi>+     Theme Settings: /theme-settings/ || star
</span></span></span></code></pre></td></tr></table></div></div><p>我们需要在 <code>~/source/docs/</code> 文件夹下创建对应的文件夹 <code>Getting Started</code> 和 <code>Theme Settings</code>，文件夹中创建对应的 <code>index.md</code> 文件，该文件即为其二级目录对应页面内容的存放文件。</p><p>同样，创建三级目录的时候，需要将对应的二级目录默认页面改为 <code>default</code>，然后在同级下添加同样格式的内容，在此不再赘述。如果你还没有明白是怎么设定的，可以研究一下 NexT 官方网站的源码仓库文件的存放位置。</p><hr><p>例子：将<code>友情链接</code>放在<code>关于</code>页面顶部导航栏。</p><p>先将<code>links文件夹</code>放在<code>about文件夹</code>里，然后设置目录菜单。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>about</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>/about/ || fa fa-user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>links</span><span class=p>:</span><span class=w> </span><span class=l>/links/ || fa fa-link</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=开启gitter>开启<code>gitter</code></h3><div class="note primary">首先前往 {% btn https://gitter.im, gitter官网, link fa-lg fa-fw %} 建立社区房间，然后在`_config.next.yml`配置如下:</div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>gitter:
</span></span><span class=line><span class=cl><span class=gd>- enable:
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+ enable: true
</span></span></span><span class=line><span class=cl><span class=gi></span><span class=gd>- room:
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+ room: iwyang/community
</span></span></span></code></pre></td></tr></table></div></div><p><strong>最终效果：</strong></p><p><img src=https://cdn.jsdelivr.net/gh/iwyang/pic/20210710120529.jpg loading=lazy></p><div class="note primary">由于觉得开启gitter会影响页面美观，所以我没有开启gitter。</div><h2 id=v80-更新内容>V8.0 更新内容</h2><h3 id=重要更新>重要更新</h3><ul><li>图标库升级为 Font-Awesome 5 (<a class=link href=https://github.com/theme-next/hexo-theme-next/pull/1438 target=_blank rel=noopener>theme-next/hexo-theme-next#1438</a>)</li><li>模板格式从 <code>swig</code> 更改为 <code>njk</code></li><li>菜单设置变更 (<a class=link href=https://github.com/next-theme/hexo-theme-next/commit/a527bfdf11d558ffd958cd0a0b05416fb1caaa33 target=_blank rel=noopener>a527bfd</a>)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl><span class=gd>-override: false
</span></span></span><span class=line><span class=cl><span class=gd></span>
</span></span><span class=line><span class=cl>menu:
</span></span><span class=line><span class=cl><span class=gd>-  home: / || fa fa-home
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+  #home: / || fa fa-home
</span></span></span><span class=line><span class=cl><span class=gi></span>  #about: /about/ || fa fa-user
</span></span><span class=line><span class=cl>  #tags: /tags/ || fa fa-tags
</span></span><span class=line><span class=cl>  #categories: /categories/ || fa fa-th
</span></span><span class=line><span class=cl><span class=gd>-  archives: /archives/ || fa fa-archive
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+  #archives: /archives/ || fa fa-archive
</span></span></span><span class=line><span class=cl><span class=gi></span>  #schedule: /schedule/ || fa fa-calendar
</span></span><span class=line><span class=cl>  #sitemap: /sitemap.xml || fa fa-sitemap
</span></span><span class=line><span class=cl>  #commonweal: /404/ || fa fa-heartbeat
</span></span></code></pre></td></tr></table></div></div><p>Valine 选项更新 (<a class=link href=https://github.com/next-theme/hexo-theme-next/commit/6e6fc74ae98a0ef7aa3aeaba3e330ef735698b7b target=_blank rel=noopener>6e6fc74</a>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>valine:
</span></span><span class=line><span class=cl><span class=gd>-  appid: # Your leancloud application appid
</span></span></span><span class=line><span class=cl><span class=gd>-  appkey: # Your leancloud application appkey
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+  appId: # Your leancloud application appid
</span></span></span><span class=line><span class=cl><span class=gi>+  appKey: # Your leancloud application appkey
</span></span></span><span class=line><span class=cl><span class=gi></span>  ...
</span></span><span class=line><span class=cl><span class=gd>-  guest_info: nick,mail,link # Custom comment header
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+  meta: # Custom comment header
</span></span></span><span class=line><span class=cl><span class=gi>+    - nick
</span></span></span><span class=line><span class=cl><span class=gi>+    - mail
</span></span></span><span class=line><span class=cl><span class=gi>+    - link
</span></span></span></code></pre></td></tr></table></div></div><ul><li>支持 highlight.js (<a class=link href=https://github.com/next-theme/hexo-theme-next/commit/9fdaba295a2c6c707a7d96d331762ab571b89c1a target=_blank rel=noopener>9fdaba2</a>)</li><li>允许更多的代码高亮格式 (<a class=link href=https://github.com/next-theme/hexo-theme-next/commit/03e50d01ac59d136d8d9ccda187d898c0e424332 target=_blank rel=noopener>03e50d0</a>)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>codeblock:
</span></span><span class=line><span class=cl>  ...
</span></span><span class=line><span class=cl><span class=gd>-  # Available values: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic
</span></span></span><span class=line><span class=cl><span class=gd>-  # See: https://github.com/chriskempson/tomorrow-theme
</span></span></span><span class=line><span class=cl><span class=gd>-  highlight_theme: normal
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+  # See: https://github.com/highlightjs/highlight.js/tree/master/src/styles
</span></span></span><span class=line><span class=cl><span class=gi>+  theme:
</span></span></span><span class=line><span class=cl><span class=gi>+    light: default
</span></span></span><span class=line><span class=cl><span class=gi>+    dark: dark
</span></span></span></code></pre></td></tr></table></div></div><h3 id=配置>配置</h3><h4 id=代码高亮>代码高亮</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>codeblock</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>theme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>light</span><span class=p>:</span><span class=w> </span><span class=l>agate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dark</span><span class=p>:</span><span class=w> </span><span class=l>dark</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Add copy button on codeblock</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>copy_button</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Show text copy result.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>show_result</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Available values: default | flat | mac</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>style</span><span class=p>:</span><span class=w> </span><span class=l>mac</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>你可以在这里预览代码高亮的效果：<a class=link href=https://highlightjs.org/ target=_blank rel=noopener>highlightjs</a> 选择你喜欢的 <code>style</code> 即可。</p><h4 id=更换模板>更换模板</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>custom_file_path</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#head: source/_data/head.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#header: source/_data/header.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#sidebar: source/_data/sidebar.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>postMeta</span><span class=p>:</span><span class=w> </span><span class=l>source/_data/post-meta.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>postBodyEnd</span><span class=p>:</span><span class=w> </span><span class=l>source/_data/post-body-end.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>footer</span><span class=p>:</span><span class=w> </span><span class=l>source/_data/footer.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>bodyEnd</span><span class=p>:</span><span class=w> </span><span class=l>source/_data/body-end.njk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variable</span><span class=p>:</span><span class=w> </span><span class=l>source/_data/variables.styl</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#mixin: source/_data/mixins.styl</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>style</span><span class=p>:</span><span class=w> </span><span class=l>source/_data/styles.styl</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>同时将原 <code>_data</code> 目录下的 <code>swig</code> 文件后缀改为 <code>njk</code> 即可</p><h2 id=参考链接>参考链接</h2><ul><li><a class=link href=https://tding.top/archives/42c38b10.html target=_blank rel=noopener>1.Hexo-NexT (v7.0+) 主题配置</a></li><li><a class=link href=https://siriusq.top/Next%E5%8D%87%E7%BA%A7-Mac%E8%BF%81%E7%A7%BB.html target=_blank rel=noopener>2.Next升级+Mac迁移</a></li><li><a class=link href=https://blog.juanertu.com/archives/264a3045.html target=_blank rel=noopener>3.Hexo 框架 (三)：Next 主题配置及美化</a></li><li><a class=link href=https://hasaik.com/posts/ab21860c.html target=_blank rel=noopener>4.Hexo博客+Next主题深度优化与定制</a></li><li><a class=link href=https://guanqr.com/tech/website/hexo-theme-next-customization/# target=_blank rel=noopener>5.Hexo-NexT 主题个性优化</a></li><li><a class=link href=https://www.yunyoujun.cn/share/third-party-comment-system/ target=_blank rel=noopener>6.第三方评论系统之我见—云游君</a></li><li><a class=link href=https://leay.net/2020/03/23/hexo-next/ target=_blank rel=noopener>7.尝试折腾了下用 Hexo-Next-Theme 搭建的博客</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/hexo/>Hexo</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-edit><svg class="icon icon-tabler icon-tabler-external-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 7H6A2 2 0 004 9v9a2 2 0 002 2h9a2 2 0 002-2v-5"/><line x1="10" y1="14" x2="20" y2="4"/><polyline points="15 4 20 4 20 9"/></svg>
<span><a style=color:inherit href=https://github.com/iwyang/hugo/edit/develop/content/post/Hexo-NexT%20%28v7.7.2%29%20%e4%b8%bb%e9%a2%98%e9%85%8d%e7%bd%ae.md target=_blank rel="noopener noreferrer">在 GitHub 上编辑此页</a></span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2024-08-07</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/archives/memos%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/><div class=article-details><h2 class=article-title>Memos部署记录</h2></div></a></article><article><a href=/archives/%E5%88%A9%E7%94%A8%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%AE%9E%E7%8E%B0twikoo%E6%96%B0%E6%B6%88%E6%81%AF%E6%8F%90%E9%86%92%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E7%AD%89/><div class=article-details><h2 class=article-title>利用企业微信实现twikoo新消息提醒&&数据导出等</h2></div></a></article><article><a href=/archives/hexo-butterfly%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8/><div class=article-details><h2 class=article-title>hexo butterfly主题配置与使用</h2></div></a></article><article><a href=/archives/hexo%E9%85%8D%E7%BD%AE%E5%93%94%E5%93%94%E7%82%B9%E5%95%A5speak/><div class=article-details><h2 class=article-title>hexo配置哔哔点啥&&amp;Speak</h2></div></a></article><article><a href=/archives/github-actions%E5%88%A9%E7%94%A8ftp%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo-hexo%E5%88%B0centos-8/><div class=article-details><h2 class=article-title>GitHub Actions利用FTP自动部署hugo-hexo到Centos 8</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.21/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://t.bore.vip",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Example Person</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>